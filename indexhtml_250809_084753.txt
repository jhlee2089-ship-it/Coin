<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë™ì „ ë˜ì§€ê¸° 1:1 ê²Œì„</title>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 20px; }
    button { padding: 10px 20px; margin: 10px; font-size: 16px; cursor: pointer; }
    #scoreboard { margin-top: 20px; font-size: 18px; }
  </style>
</head>
<body>

<h1>ë™ì „ ë˜ì§€ê¸° ê²Œì„ (í”Œë ˆì´ì–´ vs ì»´í“¨í„°)</h1>

<label for="targetScore">ëª‡ ì  ë¨¼ì € ì–»ìœ¼ë©´ ìŠ¹ë¦¬í• ê¹Œìš”?</label>
<input type="number" id="targetScore" min="1" value="3">
<button onclick="startGame()">ê²Œì„ ì‹œì‘</button>

<div id="gameArea" style="display:none;">
  <p>ì• ë˜ëŠ” ë’¤ë¥¼ ì„ íƒí•˜ì„¸ìš”:</p>
  <button onclick="makeGuess('ì•')">ì•</button>
  <button onclick="makeGuess('ë’¤')">ë’¤</button>

  <div id="roundResult"></div>
  <div id="scoreboard"></div>
</div>

<script>
  let userScore = 0;
  let computerScore = 0;
  let targetScore = 3;

  function startGame() {
    targetScore = parseInt(document.getElementById("targetScore").value);
    if (isNaN(targetScore) || targetScore <= 0) {
      alert("ì–‘ì˜ ì •ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”!");
      return;
    }
    userScore = 0;
    computerScore = 0;
    document.getElementById("gameArea").style.display = "block";
    updateScoreboard();
    document.getElementById("roundResult").innerHTML = "";
  }

  function tossCoin() {
    return Math.random() < 0.5 ? "ì•" : "ë’¤";
  }

  function makeGuess(userGuess) {
    const computerGuess = tossCoin();
    const result = tossCoin();

    let userPoint = userGuess === result ? 1 : 0;
    let computerPoint = computerGuess === result ? 1 : 0;

    userScore += userPoint;
    computerScore += computerPoint;

    let roundText = `
      <p>ğŸ§‘ í”Œë ˆì´ì–´ ì˜ˆì¸¡: ${userGuess} | ğŸ¤– ì»´í“¨í„° ì˜ˆì¸¡: ${computerGuess}</p>
      <p>ğŸª™ ë™ì „ ê²°ê³¼: ${result}</p>
      <p>ğŸ¯ í”Œë ˆì´ì–´: ${userPoint ? "ì„±ê³µ! (+1ì )" : "ì‹¤íŒ¨"} | ì»´í“¨í„°: ${computerPoint ? "ì„±ê³µ! (+1ì )" : "ì‹¤íŒ¨"}</p>
    `;

    document.getElementById("roundResult").innerHTML = roundText;
    updateScoreboard();

    if (userScore >= targetScore || computerScore >= targetScore) {
      setTimeout(() => {
        alert(userScore >= targetScore ? "ğŸ‰ í”Œë ˆì´ì–´ ìŠ¹ë¦¬!" : "ğŸ¤– ì»´í“¨í„° ìŠ¹ë¦¬!");
        document.getElementById("gameArea").style.display = "none";
      }, 300);
    }
  }

  function updateScoreboard() {
    document.getElementById("scoreboard").innerHTML =
      `<strong>í˜„ì¬ ì ìˆ˜</strong><br>ğŸ§‘ í”Œë ˆì´ì–´: ${userScore}ì  | ğŸ¤– ì»´í“¨í„°: ${computerScore}ì `;
  }
</script>

</body>
</html>